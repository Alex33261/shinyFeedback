---
title: "shinyFeedback Introduction"
author: "Andy Merlino"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{ShinyFeedback Introduction}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Functionality

The `shinyFeedback` package creates `feeback`.  A `feeback` is a user friendly message that appears along side a `shiny` input.  A `feedback` is shown when the `shiny` input's value meets some condition.  Here are pictures of a few `shiny` inputs with `feeback` displayed:

![](feedback-screenshot.png)

`shinyFeedback` provides a friendly way to guide your users on how to use your app.

`shinyFeedback` currently only works with the following `shiny::input*` function:

- `numericInput()`
- `textInput()`
- `passwordInput()`
- `selectInput()` : (only with the default arguments selectize = TRUE and multiple = FALSE)

More inputs and options will be supported in future versions of `shinyFeedback`

## Setup

In order to use `shinyFeedback` you need to include the following function at the top of your UI.

```{r, eval=FALSE}
useShinyFeedback()
```

The following is a minimal example of a `shiny` app that uses `shinyFeedback`.  Run the following code in your R console to run the app.

```{r, eval=FALSE}
library(shiny)
library(shinyFeedback)

ui <- fluidPage(
  useShinyFeedback(), # include shinyFeedback
  
  numericInput(
    "warningInput",
    "Warn if Negative",
    value = -5
  )
)

server <- function(input, output) {
  observeEvent(input$warningInput, {
    feedbackWarning(
      inputId = "warningInput",
      condition = input$warningInput < 0
    )
  })
}

shinyApp(ui, server)
```

The above app uses the `feedbackWarning()` function to display a default warning `feedback`.  `feebackWarning()` is a wrapper around the more general `feedback()` function.

## The `feedback` function

The primary function provided by `shinyFeedback` is `feedback()`. `feedback()` allows you to set `feedback` color, icons, text, and more.  The feedback is displayed when the expression supplied to the `condition` argument evaluates to `r TRUE`.

To use `feedback()`, you will want to call it from inside a `shiny` observer (either `shiny::observe` or `shiny::observeEvent`).  Here is an example:

```{r, eval = FALSE}
observe({
  feedback(
    inputId = "example_id",
    condition = is.null(input$example_id),
    text = "This is some text feedback",
    color = "blue",
    icon = icon("birthday-cake")
  )
})
```

## Handy `feedback` wrappers

`shinyFeedback` has 3 convenient wrappers functions:
- `feedbackWarning()`
- `feedbackDanger()`
- `feedbackSuccess()`

The above functions provide default arguments for all the formal arguments in the `feedback` function other than `inputId` and `condition`.  A live app using these function is available [here](https://www.shinyapps.io/admin/#/application/143769).

## Multiple `feedback`s

When assigning multiple `feedback`s to a single input, place the `feedback()`s in the same `shiny` observer.  The `feedback()`s further down in the body of the observer will override the higher `feedback()`s. e.g.

```{r, eval = FALSE}
ui <- fluidPage(
  useShinyFeedback(), # include shinyFeedback
  
  numericInput(
    "multiFeedbacks",
    "1 is scary 2 is dangerous", 
    value = 1
  )
)

server <- function(input, output) {
  observeEvent(input$multiFeedbacks, {
    feedbackWarning(
      inputId = "multiFeedbacks",
      condition = input$multiFeedbacks >= 1,
      text = "Warning 1 is a lonely number"
    )
    feedbackDanger(
      inputId = "multiFeedbacks",
      condition = input$multiFeedbacks >= 2,
      text = "2+ is danger"
    )
  })
}

shinyApp(ui, server)
```

In the above example, an input value of 6 will 